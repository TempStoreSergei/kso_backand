{
  "RESET": {
    "code": 1,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "Command to instruct the slave to perform a hard reset at any point within its operational status."
  },
  "SETUP_REQUEST": {
    "code": 5,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "NV11"],
    "description": "The device responds with an array of data the format of which depends upon the device, the dataset installed and the protocol version set."
  },
  "HOST_PROTOCOL_VERSION": {
    "code": 6,
    "encrypted": false,
    "args": {
      "version": "number"
    },
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "Dual byte command, the first byte is the command; the second byte is the version of the protocol that is implemented on the host. So for example, to enable events on BNV to protocol version 6, send 06, 06. The device will respond with OK if the device supports version 6, or FAIL (0xF8) if it does not.",
    "example": "SSP.command('HOST_PROTOCOL_VERSION', { version: 6 })"
  },
  "POLL": {
    "code": 7,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "The poll command returns the list of events that have occurred within the device since the last poll. The format of the events depends on the protocol version set within the device. Note that more than one event can occur within a poll response so ensure that the full return array is scanned."
  },
  "DISABLE": {
    "code": 9,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "NV11"],
    "description": "The peripheral will switch to its disabled state, it will not execute any more commands or perform any actions until enabled, any poll commands will report disabled."
  },
  "ENABLE": {
    "code": 10,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "NV11"],
    "description": "Send this command to enable a disabled device."
  },
  "GET_SERIAL_NUMBER": {
    "code": 12,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "This command returns a 4-byte big endian array representing the unique factory programmed serial number of the device."
  },
  "SYNC": {
    "code": 17,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "A command to establish communications with a slave device. A Sync command resets the seq bit of the packet so that the slave device expects the next seq bit to be 0. The host then sets its next seq bit to 0 and the seq sequence is synchronised."
  },
  "GET_FIRMWARE_VERSION": {
    "code": 32,
    "encrypted": false,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "NV11"],
    "description": "Returns the full firmware version ascii data array for this device."
  },
  "GET_ALL_LEVELS": {
    "code": 34,
    "encrypted": false,
    "args": false,
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "Use this command to return all the stored levels of denominations in the device (including those at zero level). This gives a faster response than sending each individual denomination level request."
  },
  "PAYOUT_AMOUNT": {
    "code": 51,
    "encrypted": true,
    "args": {
      "test": "boolean",
      "amount": "number",
      "country_code": "string"
    },
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "A command to set the monetary value to be paid by the payout unit. Using protocol version 6, the host also sends a pre-test option byte (TEST_PAYOUT_AMOUT 0x19, PAYOUT_AMOUNT 0x58), which will determine if the command amount is tested or paid out. This is useful for multi-payout systems so that the ability to pay a split down amount can be tested before committing to actual payout.",
    "example": "SSP.command('PAYOUT_AMOUNT', { test: true, amount: 500, country_code: 'EUR' })"
  },
  "SET_DENOMINATION_LEVEL": {
    "code": 52,
    "encrypted": false,
    "args": {
      "value": "number",
      "denomination": "number",
      "country_code": "string"
    },
    "device": ["SMART Hopper"],
    "description": "A command to increment the level of coins of a denomination stored in the hopper. The command is formatted with the command byte first, amount of coins to add as a 2-byte little endian, the value of coin as 2-byte little endian and (if using protocol version 6) the country code of the coin as 3 byte ASCII. The level of coins for a denomination can be set to zero by sending a zero level for that value. Note that protocol 6 version commands have been expanded to use a 4-byte coin value. The command data is formatted as byte 0 and byte 1 give the number of coins to add. In protocol version 5, the denomination is then sent as a two byte value. In protocol version greater than 5, the denomination is sent as 4 byte value plus 3 bytes ascii country code. In this example we want to increase the level of .50c coin by 20 using protocol version 5.",
    "example": "SSP.command('SET_DENOMINATION_LEVEL', { value: 12, denomination: 100, country_code: 'EUR' })"
  },
  "GET_DENOMINATION_LEVEL": {
    "code": 53,
    "encrypted": false,
    "args": {
      "amount": "number",
      "country_code": "string"
    },
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "This command returns the level of a denomination stored in a payout device as a 2 byte value. In protocol versions greater or equal to 6, the host adds a 3 byte ascii country code to give mulit-currency functionality. Send the requested denomination to find its level. In this case a request to find the amount of 0.10c coins in protocol version 5.",
    "example": "SSP.command('GET_DENOMINATION_LEVEL', { amount: 500, country_code: 'EUR' })"
  },
  "COMMUNICATION_PASS_THROUGH": {
    "code": 55,
    "encrypted": false,
    "args": false,
    "device": ["SMART Hopper"],
    "description": "Used with SMART Hopper only. This command sets USB pass through mode. SMART Hopper then works only as USB to serial converter to allow direct communication (firmware/dataset update) with devices connected to SMART Hopper UARTS. This command was implemented in firmware versions greater or equal to 6.16."
  },
  "HALT_PAYOUT": {
    "code": 56,
    "encrypted": true,
    "args": false,
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "A command to stop the execution of an existing payout. The device will stop payout at the earliest convenient place and generate a Halted event giving the value paid up to that point."
  },
  "SET_DENOMINATION_ROUTE": {
    "code": 59,
    "encrypted": true,
    "args": {
      "route": "payout|cashbox",
      "value": "number",
      "country_code": "string",
      "isHopper": "boolean"
    },
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "This command will configure the denomination to be either routed to the cashbox on detection or stored to be made available for later possible payout.",
    "example": "SSP.command('SET_DENOMINATION_ROUTE', { route: 'payout', value: 10, country_code: 'EUR', isHopper: false })"
  },
  "GET_DENOMINATION_ROUTE": {
    "code": 60,
    "encrypted": true,
    "args": {
      "value": "number",
      "country_code": "string",
      "isHopper": "boolean"
    },
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "This command allows the host to determine the route of a denomination. Note protocol versions: For protocol versions less than 6 a value only data array is sent. For protocol version greater or equal to 6, a 3 byte country code is also sent to allow multi-currency functionality to the payout. Please note that there exists a difference in the data format between SMART Payout and SMART Hopper for protocol versions less than 6. In these protocol versions the value was determined by a 2 byte array rather than 4 byte array For NV11 devices the host must send the required note value in the same form that the device is set to report by (see Set Value Reporting Type command).",
    "example": "SSP.command('GET_DENOMINATION_ROUTE', { value: 500, country_code: 'EUR', isHopper: false })"
  },
  "FLOAT_AMOUNT": {
    "code": 61,
    "encrypted": true,
    "args": {
      "test": "boolean",
      "min_possible_payout": "number",
      "amount": "number",
      "country_code": "string"
    },
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "A command to float the hopper unit to leave a requested value of money, with a requested minimum possible payout level. All monies not required to meet float value are routed to cashbox. Using protocol version 6, the host also sends a pre-test option byte (TEST_FLOAT_AMOUT 0x19, FLOAT_AMOUNT 0x58), which will determine if the command amount is tested or floated. This is useful for multi-payout systems so that the ability to pay a split down amount can be tested before committing to actual float.",
    "example": "SSP.command('FLOAT_AMOUNT', { test: true, min_possible_payout: 50, amount: 10000, country_code: 'EUR' })"
  },
  "GET_MINIMUM_PAYOUT": {
    "code": 62,
    "encrypted": false,
    "args": false,
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "A command to request the minimum possible payout amount that this device can provide"
  },
  "EMPTY_ALL": {
    "code": 63,
    "encrypted": true,
    "args": false,
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "This command will direct all stored monies to the cash box without reporting any value and reset all the stored counters to zero. See Smart Empty command to record the value emptied."
  },
  "SET_COIN_MECH_INHIBITS": {
    "code": 64,
    "encrypted": false,
    "args": {
      "inhibited": "boolean",
      "amount": "number",
      "country_code": "string"
    },
    "device": ["SMART Hopper"],
    "description": "This command is used to enable or disable acceptance of individual coin values from a coin acceptor connected to the hopper.",
    "example": "SSP.command('SET_COIN_MECH_INHIBITS', { inhibited: false, amount: 50, country_code: 'EUR' })"
  },
  "FLOAT_BY_DENOMINATION": {
    "code": 68,
    "encrypted": true,
    "args": {
      "test": "boolean",
      "value": "Object[]",
      "value[].number": "number",
      "value[].denomination": "number",
      "value[].country_code": "string"
    },
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "A command to float (leave in device) the requested quantity of individual denominations. The quantities of denominations to leave are sent as a 2 byte little endian array; the money values as 4-byte little endian array and the country code as a 3-byte ASCII array. The host also adds an option byte to the end of the command array (TEST_PAYOUT_AMOUT 0x19 or PAYOUT_AMOUNT 0x58). This will allow a pre-test of the ability to float to the requested levels before actual float executes.",
    "example": "SSP.command('FLOAT_BY_DENOMINATION', { value: [{ number: 4, denomination: 100, country_code: 'EUR' }, { number: 5, denomination: 10, country_code: 'EUR' }], test: false })"
  },
  "PAYOUT_BY_DENOMINATION": {
    "code": 70,
    "encrypted": true,
    "args": {
      "test": "boolean",
      "value": "Object[]",
      "value[].number": "number",
      "value[].denomination": "number",
      "value[].country_code": "string"
    },
    "device": ["SMART Hopper", "SMART Payout"],
    "description": "A command to payout the requested quantity of individual denominations. The quantities of denominations to pay are sent as a 2 byte little endian array; the money values as 4-byte little endian array and the country code as a 3-byte ASCII array. The host also adds an option byte to the end of the command array (TEST_PAYOUT_AMOUT 0x19 or PAYOUT_AMOUNT 0x58). This will allow a pre-test of the ability to payout the requested levels before actual payout executes.",
    "example": "SSP.command('PAYOUT_BY_DENOMINATION', { value: [{ number: 4, denomination: 100, country_code: 'EUR' }, { number: 5, denomination: 10, country_code: 'EUR' }], test: false })"
  },
  "SET_COIN_MECH_GLOBAL_INHIBIT": {
    "code": 73,
    "encrypted": false,
    "args": {
      "enable": "boolean"
    },
    "device": ["SMART Hopper"],
    "description": "This command allows the host to enable/disable the attached coin mech in one command rather than by each individual value with previous firmware versions. Send this command and one Mode data byte: Data byte = 0x00 - mech disabled. Date byte = 0x01 - mech enabled.",
    "example": "SSP.command('SET_COIN_MECH_GLOBAL_INHIBIT', {enable:true})"
  },
  "SET_GENERATOR": {
    "code": 74,
    "encrypted": false,
    "args": {
      "key": "number"
    },
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "Eight data bytes are a 64 bit number representing the Generator this must be a 64bit prime number. The slave will reply with OK or PARAMETER_OUT_OF_RANGE if the number is not prime.",
    "example": "SSP.command('SET_GENERATOR', { key: 982451653 })"
  },
  "SET_MODULUS": {
    "code": 75,
    "encrypted": false,
    "args": {
      "key": "number"
    },
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "Eight data bytes are a 64 bit number representing the modulus this must be a 64 bit prime number. The slave will reply with OK or PARAMETER_OUT_OF_RANGE if the number is not prime.",
    "example": "SSP.command('SET_GENERATOR', { key: 982451653 })"
  },
  "REQUEST_KEY_EXCHANGE": {
    "code": 76,
    "encrypted": false,
    "args": {
      "key": "number"
    },
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "The eight data bytes are a 64 bit number representing the Host intermediate key. If the Generator and Modulus have been set the slave will calculate the reply with the generic response and eight data bytes representing the slave intermediate key. The host and slave will then calculate the key. If Generator and Modulus are not set then the slave will reply FAIL.",
    "example": "SSP.command('SET_GENERATOR', { key: 982451653 })"
  },
  "SET_BAUD_RATE": {
    "code": 77,
    "encrypted": false,
    "args": {
      "baudrate": "9600|38400|115200",
      "reset_to_default_on_reset": "boolean"
    },
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "This command has two data bytes to allow communication speed to be set on a device. The first byte is the speed to change to (see table below).",
    "example": "SSP.command('SET_BAUD_RATE', { baudrate: 9600, reset_to_default_on_reset: true })"
  },
  "GET_BUILD_REVISION": {
    "code": 79,
    "encrypted": false,
    "args": false,
    "device": ["NV200", "SMART Hopper", "SMART Payout", "NV11"],
    "description": "A command to return the build revision information of a device. The command returns 3 bytes of information representing the build of the product. Byte 0 is the product type, next two bytes make up the revision number(0-65536). For NV200 and NV9USB, the type byte is 0, for Note Float, byte is 3 and for SMART Payout the byte is 6."
  },
  "SET_HOPPER_OPTIONS": {
    "code": 80,
    "encrypted": false,
    "args": {
      "payMode": "0|1",
      "levelCheck": "boolean",
      "motorSpeed": "0|1",
      "cashBoxPayActive": "boolean"
    },
    "device": ["SMART Hopper"],
    "description": "The host can set the following options for the SMART Hopper. These options do not persist in memory and after a reset they will go to their default values. This command is valid only when using protocol version 6 or greater.",
    "example": "SSP.command('SET_HOPPER_OPTIONS', { payMode: 0, levelCheck: false, motorSpeed: 1, cashBoxPayActive: false })"
  },
  "GET_HOPPER_OPTIONS": {
    "code": 81,
    "encrypted": false,
    "args": false,
    "device": ["SMART Hopper"],
    "description": "This command returns 2 option register bytes described in Set Hopper Options command."
  },
  "SMART_EMPTY": {
    "code": 82,
    "encrypted": true,
    "args": false,
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "Empties payout device of contents, maintaining a count of value emptied. The current total value emptied is given is response to a poll command. All coin counters will be set to 0 after running this command. Use Cashbox Payout Operation Data command to retrieve a breakdown of the denomination routed to the cashbox through this operation."
  },
  "CASHBOX_PAYOUT_OPERATION_DATA": {
    "code": 83,
    "encrypted": false,
    "args": false,
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "Can be sent at the end of a SMART Empty, float or dispense operation. Returns the amount emptied to cashbox from the payout in the last dispense, float or empty command. The quantity of denominations in the response is sent as a 2 byte little endian array; the note values as 4-byte little endian array and the country code as a 3-byte ASCII array. Each denomination in the dataset will be reported, even if 0 coins of that denomination are emptied. As money is emptied from the device, the value is checked. An additional 4 bytes will be added to the response giving a count of object that could not be validated whilst performing the operation. The response is formatted as follows: byteParameter byte 0The number denominations (n) in this response (max 20) byte 1 to byte 1 + (9*n)The individual denomination level (see description below) byte 1 to byte 1 + (9*n) + 1 to byte 1 to byte 1 + (9*n) + 4 The number of un-validated objects moved. Individual level requests: byte 0 and byte 1 number of coins of this denomination moved to cashbox in operation byte 2 to byte 5 The denomination value byte 6 to byte 8 The ascii denomination country code"
  },
  "POLL_WITH_ACK": {
    "code": 86,
    "encrypted": true,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "NV11"],
    "description": "A command that behaves in the same way as the Poll command but with this command, the specified events (see table below) will need to be acknowledged by the host using the EVENT ACK command (0x56). The events will repeat until the EVENT ACK command is sent and the BNV will not allow any further note actions until the event has been cleared by the EVENT ACK command. If this command is not supported by the slave device, then generic response 0xF2 will be returned and standard poll command (0x07) will have to be used."
  },
  "EVENT_ACK": {
    "code": 87,
    "encrypted": true,
    "args": false,
    "device": ["NV9USB", "NV10USB", "BV20", "BV50", "BV100", "NV200", "SMART Hopper", "NV11"],
    "description": "This command will clear a repeating Poll ACK response and allow further note operations."
  },
  "COIN_MECH_OPTIONS": {
    "code": 90,
    "encrypted": false,
    "args": {
      "ccTalk": "boolean"
    },
    "device": ["SMART Hopper"],
    "description": "The host can set the following options for the SMART Hopper. These options do not persist in memory and after a reset they will go to their default values."
  },
  "SET_FIXED_ENCRYPTION_KEY": {
    "code": 96,
    "encrypted": true,
    "args": {
      "fixedKey": "string"
    },
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "A command to allow the host to change the fixed part of the eSSP key. The eight data bytes are a 64 bit number representing the fixed part of the key. This command must be encrypted.",
    "example": "SSP.command('SET_FIXED_ENCRYPTION_KEY', { fixedKey: '0123456701234567' })"
  },
  "RESET_FIXED_ENCRYPTION_KEY": {
    "code": 97,
    "encrypted": false,
    "args": false,
    "device": ["SMART Hopper", "SMART Payout", "NV11"],
    "description": "Resets the fixed encryption key to the device default. The device may have extra security requirements before it will accept this command (e.g. The Hopper must be empty) if these requirements are not met, the device will reply with Command Cannot be Processed. If successful, the device will reply OK, then reset. When it starts up the fixed key will be the default."
  }
}
